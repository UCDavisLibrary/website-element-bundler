!function(e){function t(t){for(var r,s,o=t[0],d=t[1],l=t[2],c=0,u=[];c<o.length;c++)s=o[c],a[s]&&u.push(a[s][0]),a[s]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);for(h&&h(t);u.length;)u.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var d=n[o];0!==a[d]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={1:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],d=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var h=d;i.push([44,0]),n()}({39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0};t.default=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"_attachDom",value:function(e){if(window.ShadyDOM&&window.ShadyDOM.inUse)return a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_attachDom",this).call(this,e);for(var t=e.querySelectorAll("style"),r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]),this._stylesInserted||(t[r].setAttribute("id",this.nodeName.toLowerCase()+"-styles"),document.head.appendChild(t[r]));return this.appendChild(e),e}},{key:"querySelector",value:function(e){return this.shadowRoot?this.shadowRoot.querySelector(e):a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"querySelector",this).call(this,e)}},{key:"querySelectorAll",value:function(e){return this.shadowRoot?this.shadowRoot.querySelectorAll(e):a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"querySelectorAll",this).call(this,e)}}]),n}()}},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n<style>\nlibrary-hours-week {\n  display: block;\n  background-color: transparent;\n  padding: 0px;\n  min-width: 275px;\n}\n\nlibrary-hours-week .hours-table{\n    border-top: 3px solid #d8d8d8;\n    border-bottom: 3px solid #d8d8d8;\n    border-collapse: collapse;\n    margin-bottom: 0px;\n    width: 100%;\n    display: table;\n}\n\nlibrary-hours-week .hours-tr {\n    background-color: transparent;\n    border: none;\n    display:table-row;\n}\n\nlibrary-hours-week .hours-td {\n    border-bottom: none;\n    padding-left: 4px;\n    padding-right: 4px;\n    padding-bottom: 8px;\n    word-wrap: normal;\n    display: table-cell;\n    vertical-align: middle;\n}\n\nlibrary-hours-week .hours-th {\n    padding-top: 14px;\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n}\n\nlibrary-hours-week .hours-th.is-today{\n    border-top: 3px solid #DAAA00;\n    border-right: 3px solid #DAAA00;\n    border-left: 3px solid #DAAA00;\n}\n\nlibrary-hours-week .hours-td.is-today{\n    border-right: 3px solid #DAAA00;\n    border-left: 3px solid #DAAA00;\n}\n\n\nlibrary-hours-week a {\n    color: #002655;\n}\nlibrary-hours-week img {\n    width: 25px;\n}\nlibrary-hours-week .closed {\n    color:#ba0c2f;\n    text-align: center;\n    font-weight: 600;\n    width: 11%;\n}\nlibrary-hours-week .open {\n    text-align: center;\n    width: 11%;\n}\n\nlibrary-hours-week th.is-today{\n    border-top: 3px solid #DAAA00;\n}\n\nlibrary-hours-week .keep-together{\n    white-space: nowrap;\n}\nlibrary-hours-week .status-icon{\n    margin-right: 8px;\n    margin-left: 8px;\n    margin-bottom: inherit !important;\n}\nlibrary-hours-week .lib-titles{\n      display:flex;\n      align-items:center;\n      font-weight: 600;\n      text-decoration: none;\n\n  }\nlibrary-hours-week .dept-titles{\n      display:flex;\n      align-items:center;\n  }\nlibrary-hours-week #month_container {\n\n      width: 100%;\n      height: 260px;\n      text-align: center;\n\n  }\n  library-hours-week #month_0,\n  library-hours-week #month_1,\n  library-hours-week #month_2 {\n      display: inline-block;\n      width: 250px;\n      height: 250px;\n      background-color: #fff;\n  }\n  library-hours-week .month_nav_left,\n  library-hours-week .month_nav_right{\n      display: inline-block;\n      height: 100%;\n      vertical-align: top;\n      padding-top: 125px;\n\n  }\n  library-hours-week .month_nav_left {\n      padding-left: 0px;\n      padding-right: 10px;\n  }\n  library-hours-week .month_nav_right {\n      padding-left: 10px;\n      padding-right: 0px;\n  }\n  library-hours-week #month_container .title {\n      display: block;\n      margin-top: 10px;\n      margin-bottom: none;\n  }\n  library-hours-week #month_container .col-header{\n\n      font-weight: 600;\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n      font-size: 12px;\n  }\n  library-hours-week .cal-row{\n      width: 100%;\n      text-align: center;\n      margin-top: 2px;\n      margin-bottom: 2px;\n  }\n  library-hours-week .cal-day {\n      display: inline-block;\n      vertical-align: middle;\n      width: 30px;\n      height: 26px;\n      font-size: 12px;\n      cursor: pointer;\n      align-items: center;\n      font-weight: 400;\n  }\n  library-hours-week .day-text {\n      position: relative;\n      top: 50%;\n      transform: translateY(-50%);\n  }\n  library-hours-week #month_container .previous,\n  library-hours-week #month_container .next {\n      color: #808080;\n  }\n  library-hours-week #month_container .is_exception {\n      background-image: url("https://drive.google.com/uc?id=1VxB6X0r5UWaigjQZh9E_GG47Yhn2PQTW");\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n  library-hours-week .selected_day {\n      background-image: url("https://drive.google.com/uc?id=19Z0p9iolwPXnuqMCXINlENgGIbqd2VZC");\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n  library-hours-week .cal-day-today {\n      background-image: url("https://drive.google.com/uc?id=1svSqs2ToLv4DypkqUGZdBgeRA6h-pEL2");\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n  library-hours-week .selected_day.cal-day-today  {\n      background-image: url("https://drive.google.com/uc?id=1svSqs2ToLv4DypkqUGZdBgeRA6h-pEL2");\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n\n  library-hours-week .selected_day.is_exception  {\n      background-image: url("https://drive.google.com/uc?id=19Z0p9iolwPXnuqMCXINlENgGIbqd2VZC"), url("https://drive.google.com/uc?id=1VxB6X0r5UWaigjQZh9E_GG47Yhn2PQTW") !important;\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n  library-hours-week .cal-day-today.is_exception {\n      background-image: url("https://drive.google.com/uc?id=1svSqs2ToLv4DypkqUGZdBgeRA6h-pEL2"), url("https://drive.google.com/uc?id=1VxB6X0r5UWaigjQZh9E_GG47Yhn2PQTW") !important;\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n  library-hours-week .legend-item {\n      display:flex;\n      align-items:center;\n      margin-top: 6px;\n      margin-bottom: 6px;\n  }\n\n  library-hours-week #legend-container {\n      background-color: #fff;\n      width: 335px;\n      min-height: 35px;\n      margin: auto;\n      margin-bottom: 10px;\n      margin-top: 10px;\n  }\n  library-hours-week .legend-icon {\n      margin-right: 8px;\n      width: 18px;\n      margin-bottom: inherit !important;\n  }\n  library-hours-week .legend-item-container{\n      display: inline-block;\n      margin-left: 5px;\n      margin-right: 5px;\n\n  }\n\n@media(min-width: 1000px){\n  library-hours-week #view_tablet {\n      display:none;\n  }\n  library-hours-week #view_desktop {\n      display:block;\n  }\n  library-hours-week #view_mobile {\n      display:none;\n  }\n\n\n  library-hours-week .hours-td {\n      border-top: 1px solid #d8d8d8;\n      border-left: none;\n      border-right: none;\n      padding-top: 8px;\n  }\n\n  library-hours-week .hours-th {\n      padding-bottom: 14px;\n  }\n\n  library-hours-week .hours-td:nth-child(odd), .hours-th:nth-child(odd) {\n    background-color: #fff;\n}\nlibrary-hours-week .hours-td:nth-child(even), .hours-th:nth-child(even) {\n      background-color: #f3f3f3;\n  }\n\n  library-hours-week .hours-tr:nth-last-child(2) .hours-td.is-today {\n      border-bottom: 3px solid #DAAA00;\n  }\n  library-hours-week .hours-td {\n      padding-bottom: 14px;\n  }\n\n  library-hours-week #month_0 .next.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n  }\n  library-hours-week #month_0 .next.day-text {\n      display: none;\n  }\n\n  library-hours-week #month_0 .previous.day-text {\n      display: block;\n  }\n  library-hours-week #month_0 .previous.cal-text {\n      pointer-events: all;\n  }\n\n  library-hours-week #month_1 .next.day-text,\n  library-hours-week #month_1 .previous.day-text {\n      display: none;\n\n  }\n  library-hours-week #month_1 .next.cal-day,\n  library-hours-week #month_1 .previous.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n\n  }\n\n  library-hours-week #month_2 .previous.day-text {\n      display: none;\n      background-image: none !important;\n\n  }\n  library-hours-week #month_2 .previous.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n\n  }\n\n\n}\n@media(max-width: 1000px){\n  library-hours-week #view_tablet {\n      display:block;\n  }\n  library-hours-week #view_desktop {\n      display:none;\n  }\n  library-hours-week #view_mobile {\n      display:none;\n  }\n\n  library-hours-week #month_2 {\n      display: none;\n  }\n\n  library-hours-week #month_0 .next.day-text {\n      display: none;\n  }\n\n  library-hours-week #month_0 .next.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n  }\n  library-hours-week #month_1 .previous.day-text {\n      display: none;\n  }\n  library-hours-week #month_1 .previous.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n  }\n\n\n  library-hours-week .hours-td,\n  library-hours-week .hours-th {\n      background-color: #fff;\n      border-left: 1px solid #d8d8d8;\n      border-right: 1px solid #d8d8d8;\n      border-top: none;\n      border-bottom: none;\n\n  }\n  library-hours-week .hours-th {\n      padding-bottom: none;\n  }\n  library-hours-week .hours-td {\n      padding-top: 4px;\n  }\n  library-hours-week a {\n      padding-top: 12px;\n      padding-bottom: 12px;\n  }\n  library-hours-week .hours-table {\n      border-left: none;\n      border-right: none;\n      border-top: 1px solid #d8d8d8;\n      border-bottom: 2px solid #d8d8d8;\n  }\n\n  library-hours-week .hours-table[hidden] {\n      display:none;\n  }\n  library-hours-week .hours-tr:nth-last-child(1) .hours-td.is-today {\n      border-bottom: 3px solid #DAAA00;\n  }\n}\n\n@media(max-width: 700px){\n  library-hours-week #view_tablet {\n      display:none;\n  }\n  library-hours-week #view_desktop {\n      display:none;\n  }\n  library-hours-week #view_mobile {\n      display:block;\n  }\n  library-hours-week #month_1 {\n      display: none;\n  }\n  library-hours-week #month_2 {\n      display: none;\n  }\n\n  library-hours-week #month_0 .next.day-text {\n      display: block;\n  }\n\n  library-hours-week .month_nav_left {\n      padding-left: 0px;\n      padding-right: 0px;\n      padding-top: 110px;\n  }\n  library-hours-week .month_nav_right {\n      padding-left: 0px;\n      padding-right: 0px;\n      padding-top: 110px;\n  }\n  library-hours-week .cal-day {\n      width: 25px;\n      height: 21px;\n  }\n  library-hours-week #month_container .col-header {\n      width: 25px;\n      height: 21px;\n  }\n  library-hours-week #month_0{\n      width: 225px;\n      height: 225px;\n  }\n\n  library-hours-week .hours-td {\n      background-color: #fff;\n      border-left: none;\n      border-right: none;\n  }\n  library-hours-week .hours-tr.is-today {\n      border-bottom: 3px solid #DAAA00;\n      border-top: 3px solid #DAAA00;\n      border-left: 3px solid #DAAA00;\n      border-right: 3px solid #DAAA00;\n  }\n  library-hours-week .hours-table {\n      border-top: none;\n      border-bottom: none;\n  }\n  library-hours-week hr {\n      display: block;\n      height: 1px;\n      border: 0;\n      border-top: 2px solid #d8d8d8;\n      margin: 0;\n      padding: 0;\n  }\n\n  library-hours-week #legend-container {\n      width: 225px;\n\n  }\n\n  library-hours-week .legend-item-container{\n      margin-left: 8px;\n      margin-right: 8px;\n\n  }\n\n}\n</style>'},41:function(e,t,n){"use strict";var r,a=n(40),i=(r=a)&&r.__esModule?r:{default:r};var s=document.createElement("div");s.style.display="none",s.innerHTML=i.default,document.head.appendChild(s)},44:function(e,t,n){"use strict";var r,a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(r=['\n        <iron-ajax\n            id="init_ajax"\n            url$="[[json_path]]"\n            handle-as="json"\n            on-response="_make_iron_ajax"\n            debounce-duration="300"></iron-ajax>\n\n    <iron-media-query query="min-width: 1000px" query-matches="{{view_desktop}}"></iron-media-query>\n    <iron-media-query query="max-width: 1000px" query-matches="{{view_tablet}}"></iron-media-query>\n    <iron-media-query query="max-width: 700px" query-matches="{{view_mobile}}"></iron-media-query>\n\n    <template id="ajax_repeater" is="dom-repeat" items={{_api_parameters}} as="api">\n    <iron-ajax\n        id="[[api.id]]"\n        url="[[api.url]]"\n        params="[[api.params]]"\n        handle-as="json"\n        on-response="handle_response"\n        debounce-duration="300"></iron-ajax>\n    </template>\n<h1>CHANGES!</h1>\n        <h2>[[element_title]]</h2>\n        <div id="legend-container">\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="https://drive.google.com/uc?id=1svSqs2ToLv4DypkqUGZdBgeRA6h-pEL2">\n                    Today\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="https://drive.google.com/uc?id=19Z0p9iolwPXnuqMCXINlENgGIbqd2VZC">\n                    Selected Day\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="https://drive.google.com/uc?id=1VxB6X0r5UWaigjQZh9E_GG47Yhn2PQTW">\n                    Special Hours\n                </p>\n            </div>\n        </div>\n\n        <div id="month_container">\n        <div class="month_nav_left">\n            <i class="cork-chevron left gold" alt="past" on-click="change_month" style="cursor:pointer;"></i>\n        </div>\n            <template is="dom-repeat" items="{{month_array}}" as="month">\n                <div id="{{month.order}}">\n                    <span class="title details-text" style="text-transform:none;">[[month.label]]</span>\n                    <div class="cal-row">\n                        <div class="col-header"><div class="day-text">S</div></div>\n                        <div class="col-header"><div class="day-text">M</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">W</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">F</div></div>\n                        <div class="col-header"><div class="day-text">S</div></div>\n                    </div>\n                    <template is="dom-repeat" items="{{month.data}}" as="week">\n                        <div class="cal-row">\n                        <template is="dom-repeat" items="{{week}}" as="day">\n                            <div locweek$= "[[day.loc_week]]" locday$= "[[day.loc_day]]" class$="[[day.is_today]] cal-day [[day.is_exception]] {{day.is_selected}} [[day.month_status]]" on-click="display_new_week">\n                                <div class$="[[day.month_status]] day-text" day$="[[day.date_json]]">[[day.day]]</div>\n                            </div>\n                        </template>\n                        </div>\n                    </template>\n                </div>\n            </template>\n            <div class="month_nav_right">\n                <i class="cork-chevron right gold" alt="future" on-click="change_month" style="cursor:pointer;"></i>\n            </div>\n        </div>\n\n        <div id="view_desktop">\n        <div class="hours-table">\n            <div class="hours-tr">\n            <div class="hours-th"><h4 style="margin-bottom:0px;">[[_format_header(week_array)]]</h4></div>\n            <template is="dom-repeat" items="{{week_array}}">\n                <div class$="[[item.is_today]] hours-th"style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n            </template>\n            </div>\n            <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <div class="hours-tr">\n                <div class="hours-td">\n                    <a class$="[[item.type]]" href$=[[item.url]]>\n                    <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n                    [[item.title]]\n                    </a>\n                </div>\n                <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                    <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </template>\n            </div>\n            </template>\n        </div>\n        </div>\n\n        <div id="view_tablet">\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div class="hours-table">\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{week_array}}">\n                        <div class$="[[item.is_today]] hours-th" style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                        <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n                    </template>\n                </div>\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                        <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                            <span class="keep-together">[[hours.display_string.open]]</span>\n                            <span class="keep-together">[[hours.display_string.close]]</span>\n                        </div>\n                    </template>\n                </div>\n            </div>\n        </template>\n        </div>\n\n        <div id="view_mobile">\n        <hr>\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div hidden="hidden" class="hours-table" id="[[_concat_id(item.id, \'table\')]]">\n            <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                <div class$="[[hours.is_today]] hours-tr">\n                    <div style="width:40%;" class="hours-td"><strong>[[hours.date.day_str]]</strong> [[hours.date.month_str]] [[hours.date.day]]\n                    </div>\n                    <div style="width:60%;" class$="[[hours.hours.status]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </div>\n            </template>\n            </div>\n            <div style="text-align:right;">\n                <i id$="[[_concat_id(item.id, \'toggle\')]]" on-click="toggle_lib_mobile" class="fa fa-plus" action="expand" style="color:#daaa00;cursor:pointer;"></i>\n            </div>\n            <hr>\n        </template>\n        </div>\n\n        '],a=['\n        <iron-ajax\n            id="init_ajax"\n            url$="[[json_path]]"\n            handle-as="json"\n            on-response="_make_iron_ajax"\n            debounce-duration="300"></iron-ajax>\n\n    <iron-media-query query="min-width: 1000px" query-matches="{{view_desktop}}"></iron-media-query>\n    <iron-media-query query="max-width: 1000px" query-matches="{{view_tablet}}"></iron-media-query>\n    <iron-media-query query="max-width: 700px" query-matches="{{view_mobile}}"></iron-media-query>\n\n    <template id="ajax_repeater" is="dom-repeat" items={{_api_parameters}} as="api">\n    <iron-ajax\n        id="[[api.id]]"\n        url="[[api.url]]"\n        params="[[api.params]]"\n        handle-as="json"\n        on-response="handle_response"\n        debounce-duration="300"></iron-ajax>\n    </template>\n<h1>CHANGES!</h1>\n        <h2>[[element_title]]</h2>\n        <div id="legend-container">\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="https://drive.google.com/uc?id=1svSqs2ToLv4DypkqUGZdBgeRA6h-pEL2">\n                    Today\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="https://drive.google.com/uc?id=19Z0p9iolwPXnuqMCXINlENgGIbqd2VZC">\n                    Selected Day\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="https://drive.google.com/uc?id=1VxB6X0r5UWaigjQZh9E_GG47Yhn2PQTW">\n                    Special Hours\n                </p>\n            </div>\n        </div>\n\n        <div id="month_container">\n        <div class="month_nav_left">\n            <i class="cork-chevron left gold" alt="past" on-click="change_month" style="cursor:pointer;"></i>\n        </div>\n            <template is="dom-repeat" items="{{month_array}}" as="month">\n                <div id="{{month.order}}">\n                    <span class="title details-text" style="text-transform:none;">[[month.label]]</span>\n                    <div class="cal-row">\n                        <div class="col-header"><div class="day-text">S</div></div>\n                        <div class="col-header"><div class="day-text">M</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">W</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">F</div></div>\n                        <div class="col-header"><div class="day-text">S</div></div>\n                    </div>\n                    <template is="dom-repeat" items="{{month.data}}" as="week">\n                        <div class="cal-row">\n                        <template is="dom-repeat" items="{{week}}" as="day">\n                            <div locweek$= "[[day.loc_week]]" locday$= "[[day.loc_day]]" class$="[[day.is_today]] cal-day [[day.is_exception]] {{day.is_selected}} [[day.month_status]]" on-click="display_new_week">\n                                <div class$="[[day.month_status]] day-text" day$="[[day.date_json]]">[[day.day]]</div>\n                            </div>\n                        </template>\n                        </div>\n                    </template>\n                </div>\n            </template>\n            <div class="month_nav_right">\n                <i class="cork-chevron right gold" alt="future" on-click="change_month" style="cursor:pointer;"></i>\n            </div>\n        </div>\n\n        <div id="view_desktop">\n        <div class="hours-table">\n            <div class="hours-tr">\n            <div class="hours-th"><h4 style="margin-bottom:0px;">[[_format_header(week_array)]]</h4></div>\n            <template is="dom-repeat" items="{{week_array}}">\n                <div class$="[[item.is_today]] hours-th"style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n            </template>\n            </div>\n            <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <div class="hours-tr">\n                <div class="hours-td">\n                    <a class$="[[item.type]]" href$=[[item.url]]>\n                    <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n                    [[item.title]]\n                    </a>\n                </div>\n                <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                    <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </template>\n            </div>\n            </template>\n        </div>\n        </div>\n\n        <div id="view_tablet">\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div class="hours-table">\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{week_array}}">\n                        <div class$="[[item.is_today]] hours-th" style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                        <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n                    </template>\n                </div>\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                        <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                            <span class="keep-together">[[hours.display_string.open]]</span>\n                            <span class="keep-together">[[hours.display_string.close]]</span>\n                        </div>\n                    </template>\n                </div>\n            </div>\n        </template>\n        </div>\n\n        <div id="view_mobile">\n        <hr>\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div hidden="hidden" class="hours-table" id="[[_concat_id(item.id, \'table\')]]">\n            <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                <div class$="[[hours.is_today]] hours-tr">\n                    <div style="width:40%;" class="hours-td"><strong>[[hours.date.day_str]]</strong> [[hours.date.month_str]] [[hours.date.day]]\n                    </div>\n                    <div style="width:60%;" class$="[[hours.hours.status]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </div>\n            </template>\n            </div>\n            <div style="text-align:right;">\n                <i id$="[[_concat_id(item.id, \'toggle\')]]" on-click="toggle_lib_mobile" class="fa fa-plus" action="expand" style="color:#daaa00;cursor:pointer;"></i>\n            </div>\n            <hr>\n        </template>\n        </div>\n\n        '],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(a)}}))),o=n(2);n(34),n(25),n(43),n(33),n(41);var d,l=n(39),h=(d=l)&&d.__esModule?d:{default:d};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mixin(o.PolymerElement).with(h.default)),i(t,null,[{key:"template",get:function(){return(0,o.html)(s)}},{key:"is",get:function(){return"library-hours-week"}},{key:"properties",get:function(){return{_calendars:{type:Object,value:{}},_api_parameters:{type:Array,value:[]},json_path:{type:String},element_title:{type:String,value:""},verbose:{type:Boolean},hours_this_week:{type:Array,value:[]},today:{type:Date},selected_day:{type:Object,value:{}},ajax_ids:{type:Array,value:[]},event_ids:{type:Array,value:[]},_lib_event_crosswalk:{type:Object,value:{}},week_array:{type:Array,value:[]},month_array:{type:Array,value:[]}}}}]),i(t,[{key:"ready",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);try{var e=(new Date).toLocaleString("en-US",{timeZone:"America/Los_Angeles"});e=new Date(e.split(",")[0]),this.today=e,this.set("selected_day.date",e)}catch(t){e=this._ie_today(),this.today=e,this.set("selected_day.date",e)}String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),this.set("selected_day.location",{}),this.week_array=this.create_week_array(e),this.verbose&&console.log("week_array",this.week_array),this.construct_month(e),this.verbose&&console.log("month_array",this.month_array),this.$.init_ajax.generateRequest()}},{key:"_make_iron_ajax",value:function(e){for(var t=e.detail.response,n=0;n<t.length;n++){var r={};this.push("ajax_ids",t[n].ajax_id),r.url=t[n].url,r.params=t[n].params,r.id=t[n].ajax_id,this._lib_event_crosswalk[t[n].ajax_id]=t[n].event_series;for(var a=0;a<t[n].event_series.length;a++)this.push("event_ids",t[n].event_series[a].search_term);this.push("_api_parameters",r)}this.verbose&&console.log("api_parameters",this._api_parameters),this.$.ajax_repeater.render();for(n=0;n<this.ajax_ids.length;n++)this.querySelector("#"+this.ajax_ids[n]).generateRequest()}},{key:"handle_response",value:function(e){for(var t=e.detail.response,n=e.target.getAttribute("id"),r=this._lib_event_crosswalk[n],a=0;a<r.length;a++){var i=r[a].search_term,s=r[a].title,o=r[a].type,d=r[a].url,l=this.parse_calendar(t,i);if(l){var h={title:s,id:i,data:l,ajax_id:n,type:o,url:d};this._calendars[i]=h;var c=this._create_week_hours(h),u=this.event_ids.indexOf(i);-1!=u&&(c.display_order=u,this.push("hours_this_week",c),this.verbose&&console.log(i,c));for(var p=0;p<this.month_array.length;p++)for(var y=0;y<this.month_array[p].data.length;y++)for(var _=0;_<this.month_array[p].data[y].length;_++){if("not_exception"==this.month_array[p].data[y][_].is_exception)this.day_hours(this.month_array[p].data[y][_].date,h.data).exception&&this.set("month_array."+p+".data."+y+"."+_+".is_exception","is_exception")}}}}},{key:"display_new_week",value:function(e){if(this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),e.target.getAttribute("day"))var t=e.target.getAttribute("day").split("-"),n=e.target.parentNode;else t=e.target.children[0].getAttribute("day").split("-"),n=e.target;var r=n.parentNode.parentNode.getAttribute("id");r=parseInt(r.split("_")[1]);var a=parseInt(n.getAttribute("locweek")),i=parseInt(n.getAttribute("locday"));this.set("month_array."+r+".data."+a+"."+i+".is_selected","selected_day"),this.set("selected_day.location.month",r),this.set("selected_day.location.week",a),this.set("selected_day.location.day",i),t=new Date(t[0],t[1]-1,t[2]),this.set("selected_day.date",t),this.week_array=this.create_week_array(t);for(var s=[],o=0;o<this.event_ids.length;o++){var d=this._calendars[this.event_ids[o]],l=this._create_week_hours(d);l.display_order=o;for(var h=0;h<this.hours_this_week.length;h++)l.id==this.hours_this_week[h].id&&(l.icon_url=this.hours_this_week[h].icon_url,s.push(l))}this.hours_this_week=s}},{key:"change_month",value:function(e){var t,n,r=e.target.getAttribute("alt");if(this.set("selected_day.just_created",!1),"future"==r){var a=this.month_array[2].month_n+1,i=this.month_array[2].year_n;12==a&&(a=0,i+=1),t=new Date(i,a,15),n=this._make_month_range(t,1,2,!0)[0],this.month_array[0].month_n==this.selected_day.date.getMonth()?(this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),this.set("selected_day.in_range",!1)):this.selected_day.in_range&&!this.selected_day.just_created&&this.set("selected_day.location.month",this.selected_day.location.month-1),this.shift("month_array"),this.push("month_array",n),this.set("month_array.0.order","month_0"),this.set("month_array.1.order","month_1")}else if("past"==r){a=this.month_array[0].month_n-1,i=this.month_array[0].year_n;-1==a&&(a=11,i-=1),t=new Date(i,a,15),n=this._make_month_range(t,1,0,!0)[0],this.month_array[2].month_n==this.selected_day.date.getMonth()?(this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),this.set("selected_day.in_range",!1)):this.selected_day.in_range&&!this.selected_day.just_created&&this.set("selected_day.location.month",this.selected_day.location.month+1),this.pop("month_array"),this.splice("month_array",0,0,n),this.set("month_array.1.order","month_1"),this.set("month_array.2.order","month_2")}}},{key:"_make_month_range",value:function(e,t,n,r){for(var a=[],i=e.getMonth(),s=this.today.toJSON().split("T")[0],o=this.selected_day.date.toJSON().split("T")[0],d=["January","February","March","April","May","June","July","August","September","October","November","December"],l=n;l<t+n;l++){var h={},c=i+l-n;h.order="month_"+String(l),h.year_n=1900+e.getYear(),c>=12&&(c-=12,h.year_n+=1),h.month_n=c,h.label=d[c]+" "+String(h.year_n);var u=new Date(h.year_n,h.month_n,1),p=new Date(h.year_n,h.month_n,1);p.setDate(u.getDate()-u.getDay()),h.data=[];for(var y=[],_=0,m=0;m<43;m++){var v={},g=new Date(p);if(m%7==0&&0!=m){h.data.push(y),_+=1;y=[]}var b=new Date(g.setDate(p.getDate()+m)),w=1900+b.getYear();v.day=b.getDate(),v.date=b,v.date_json=b.toJSON().split("T")[0];var f=b.getMonth();if(v.date_json==s?v.is_today="cal-day-today":v.is_today="cal-day-not-today",h.year_n>w?v.month_status="previous":h.year_n<w?v.month_status="next":v.month_status=f==c?"current":f>c?"next":"previous",v.is_exception="not_exception",v.date_json==o?(v.is_selected="selected_day",this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),this.set("selected_day.location.month",l),this.set("selected_day.location.week",_),this.set("selected_day.location.day",m-7*_),this.set("selected_day.in_range",!0),this.set("selected_day.just_created",!0)):v.is_selected="not_selected_day",v.loc_month=l,v.loc_week=_,v.loc_day=m-7*_,r)for(var k in this._calendars){if(this.day_hours(b,this._calendars[k].data).exception){v.is_exception="is_exception";break}}y.push(v)}a.push(h)}return a}},{key:"construct_month",value:function(e){for(var t=this._make_month_range(e,3,0,!1),n=0;n<t.length;n++)this.push("month_array",t[n])}},{key:"_create_week_hours",value:function(e){var t=e.data,n={hours:[]};if("library"==e.type.toLowerCase()){var r=!0;n.type="lib-titles"}else{r=!1;n.type="dept-titles"}for(var a=0;a<7;a++){var i=this.week_array[a],s=this.day_hours(i.date,t),o=this.hours_string(s);n.hours.push({hours:s,display_string:o,date:i}),"is-today"==this.week_array[a].is_today?(n.hours[a].is_today="is-today",r?this.open_now(s)?n.icon_url="https://drive.google.com/uc?id=1oef1f3noVDdo0AE6Q5wlaj-qlSFmGC5T":n.icon_url="https://drive.google.com/uc?id=1i3Fq2Zu_4AbbtU6s26CgBhCBFCMJCTe9":this.open_now(s)?n.icon_url="https://drive.google.com/uc?id=1n0fB8usubCNXZus_fy3sTTfaiawmMc36":n.icon_url="https://drive.google.com/uc?id=1zRzqS2sXCCXCu6WkNkz70hrY5sBMT07v"):n.hours[a].is_today="not-today"}return n.title=e.title,n.id=e.id,n.url=e.url,n}},{key:"toggle_lib_mobile",value:function(e){var t="#"+e.target.getAttribute("id").split("__")[0]+"__table";"expand"==e.target.getAttribute("action")?(e.target.setAttribute("action","less"),e.target.setAttribute("class","fa fa-minus"),this.querySelector(t).removeAttribute("hidden")):(e.target.setAttribute("action","expand"),e.target.setAttribute("class","fa fa-plus"),this.querySelector(t).setAttribute("hidden","hidden"))}},{key:"_concat_id",value:function(e,t){return e+"__"+t}},{key:"open_now",value:function(e){if("closed"==e.status)return!1;try{var t=(n=(new Date).toLocaleString("en-GB",{timeZone:"America/Los_Angeles"})).split(",")[1].split(":");t=parseInt(t[0]+t[1])}catch(e){var n=this._ie_today(),r=String(n.getHours());1==r.length&&(r="0"+r);var a=String(n.getMinutes());1==a.length&&(a="0"+a);t=parseInt(r+a)}var i=e.start_time.split(":");i=parseInt(i[0]+i[1]);var s=e.end_time.split(":");return s=parseInt(s[0]+s[1]),t>=i&&t<s||t>=i&&i>=s}},{key:"_format_header",value:function(e){var t="";return 7==e.length&&(t+=e[0].month_str.toUpperCase()+" "+e[0].day+" - ",e[0].month_str!=e[6].month_str&&(t+=e[6].month_str.toUpperCase()+" "),t+=e[6].day+", "+e[6].year),t}},{key:"create_week_array",value:function(e){for(var t=[],n=e.getDay(),r=["SUN","MON","TUE","WED","THU","FRI","SAT","SUN"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=this.today.toDateString(),s=0;s<7;s++){var o={},d=new Date(1900+e.getYear(),e.getMonth(),e.getDate());d.setDate(e.getDate()-n+s),o.i=s-1,o.date=d,d.toDateString()==i?o.is_today="is-today":o.is_today="not-today",o.day_str=r[d.getDay()],o.month_str=a[d.getMonth()],o.day=d.getDate(),o.year=1900+d.getYear(),t.push(o)}return t}},{key:"sort_hours",value:function(e,t){return e.display_order-t.display_order}},{key:"hours_string",value:function(e){if("closed"==e.status)return{open:"CLOSED",close:""};for(var t={},n=[e.start_time,e.end_time],r=0;r<2;r++){var a="",i=n[r].split(":"),s=parseInt(i[0]);if(s>12){s-=12;var o="pm"}else if(0==s){s=12;o="am"}else if(12==s){s=12;o="pm"}else o="am";a+=s.toString()+":"+i[1],a+=" "+o,0==r?t.open=a+" -":t.close=a}return t}},{key:"parse_rrule",value:function(e){for(var t={},n=e.split(":")[1].split(";"),r=0;r<n.length;r++){var a=n[r].split("=");if("FREQ"==a[0])t.freq=a[1],"DAILY"==a[1]&&(t.days=["MO","TU","WE","TH","FR","SA","SU"]);else if("BYDAY"==a[0])t.days=a[1].split(",");else if("UNTIL"==a[0]){var i=a[1].substr(0,4),s=a[1].substr(4,2),o=a[1].substr(6,2);t.end_date=new Date(i+"-"+s+"-"+o)}}if(!("end_date"in t)){var d=new Date;d.setDate(d.getDate()+730),t.end_date=d}return t}},{key:"to_goog_day",value:function(e){return{1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA",0:"SU"}[e]}},{key:"split_datetime",value:function(e){var t={},n=e.split("T");n[0].split("-");return t.date=new Date(n[0]),t.time=n[1].substr(0,5),t}},{key:"day_hours",value:function(e,t){var n=e.toISOString().split("T")[0];if(n in t.exceptions)return t.exceptions[n];for(var r=0;r<t.id.length;r++){var a=t.id[r];if(e>=t.rule[a].start_date&&e<=t.rule[a].end_date){var i=!1;try{i=t.rule[a].days.includes(this.to_goog_day(e.getDay()))}catch(n){for(var s=this.to_goog_day(e.getDay()),o=0;o<t.rule[a].days.length;o++)if(t.rule[a].days[o]==s){i=!0;break}}if(i){var d={};return d.start_time=t.rule[a].start_time,d.end_time=t.rule[a].end_time,d.exception=!1,d.status="open",d}}}return{status:"closed",exception:!1}}},{key:"_ie_today",value:function(){for(var e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(t+-252e5),r=new Date(t+-288e5),a=[new Date(2015,2,8),new Date(2015,10,2),new Date(2016,2,13),new Date(2016,10,7),new Date(2017,2,12),new Date(2017,10,6),new Date(2018,2,11),new Date(2018,10,5),new Date(2019,2,10),new Date(2019,10,4),new Date(2020,2,8),new Date(2020,10,2),new Date(2021,2,14),new Date(2021,10,8),new Date(2022,2,13),new Date(2022,10,7),new Date(2023,2,12),new Date(2023,10,6),new Date(2024,2,10),new Date(2024,10,4)],i=0;i<a.length;i++)if(r<a[i])return n;return console.log("Unable to determine daylight savings time. See _ie_today function"),e}},{key:"parse_calendar",value:function(e,t){for(var n=e.items,r={id:[],name:{},rule:{},overlap:!1,exceptions:{}},a=0;a<n.length;a++)if("recurrence"in n[a]){if("description"in n[a])var i=n[a].description.toLowerCase();else i="";if(i.includes(t.toLowerCase())){var s=n[a].id,o=n[a].organizer.displayName,d=this.parse_rrule(n[a].recurrence[0]);if("dateTime"in n[a].start){var l=this.split_datetime(n[a].start.dateTime);d.start_date=l.date,d.start_time=l.time,d.end_time=this.split_datetime(n[a].end.dateTime).time}else d.start_date=new Date(n[a].start.date),d.start_time="00:00",d.end_time="00:00";r.id.push(s),r.name[s]=o,r.rule[s]=d}}if(0==r.id.length)return console.log(t,"not found in calendar. Unable to display hours."),!1;for(a=0;a<n.length;a++){var h=!1;try{h=r.id.includes(n[a].recurringEventId)}catch(e){for(var c=0;c<r.id.length;c++)if(n[a].recurringEventId==r.id[c]){h=!0;break}}if(h)if("cancelled"==n[a].status)p=(p=n[a].originalStartTime.dateTime).split("T")[0],r.exceptions[p]={exception:!0,status:"closed"};else if("confirmed"==n[a].status){var u={},p=n[a].start.dateTime.split("T")[0];u.end_time=this.split_datetime(n[a].end.dateTime).time,u.start_time=this.split_datetime(n[a].start.dateTime).time,u.status="open",u.exception=!0;var y=r.rule[n[a].recurringEventId].start_time,_=r.rule[n[a].recurringEventId].end_time;y==u.start_time&&_==u.end_time||(r.exceptions[p]=u)}}return r}}]),t}();customElements.define(c.is,c)}});