(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{29:function(e,t,n){"use strict";n(9),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,n(12).Polymer)({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var e=this.query;e&&(this.full||"("===e[0]||(e="("+e+")"),this._mq=window.matchMedia(e),this._add(),this.queryHandler(this._mq))},queryHandler:function(e){this._setQueryMatches(e.matches)}})},3:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n        <style>\n        :host {\n            --ucd-hours-exception: url();\n            --ucd-hours-selected: url();\n            --ucd-hours-today: url();\n            --ucd-hours-today-selected: url();\n            --ucd-hours-selected-exception: url();\n            --ucd-hours-today-exception: url();\n        }\n        #month_container .is_exception {\n            background-image: var(--ucd-hours-exception);\n        }\n        .selected_day {\n            background-image: var(--ucd-hours-selected);\n        }\n        .cal-day-today {\n            background-image: var(--ucd-hours-today);\n        }\n        .selected_day.cal-day-today  {\n            background-image: var(--ucd-hours-today-selected) !important;\n        }\n\n        .selected_day.is_exception  {\n            background-image: var(--ucd-hours-selected-exception) !important;\n        }\n        .cal-day-today.is_exception {\n            background-image: var(--ucd-hours-today-exception) !important;\n        }\n        </style>\n        <iron-ajax\n            id="init_ajax"\n            url$="[[json_path]]"\n            handle-as="json"\n            on-response="_make_iron_ajax"\n            debounce-duration="300"></iron-ajax>\n\n    <iron-media-query query="min-width: 1000px" query-matches="{{view_desktop}}"></iron-media-query>\n    <iron-media-query query="max-width: 1000px" query-matches="{{view_tablet}}"></iron-media-query>\n    <iron-media-query query="max-width: 700px" query-matches="{{view_mobile}}"></iron-media-query>\n\n    <template id="ajax_repeater" is="dom-repeat" items={{_api_parameters}} as="api">\n    <iron-ajax\n        id="[[api.id]]"\n        url="[[api.url]]"\n        params="[[api.params]]"\n        handle-as="json"\n        on-response="handle_response"\n        debounce-duration="300"></iron-ajax>\n    </template>\n\n        <h2>[[element_title]]</h2>\n        <div id="legend-container">\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="[[icon_dir]]cal-today.svg">\n                    Today\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="[[icon_dir]]cal-selected.svg">\n                    Selected Day\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="[[icon_dir]]cal-exception.svg">\n                    Special Hours\n                </p>\n            </div>\n        </div>\n\n        <div id="month_container">\n        <div class="month_nav_left">\n            <i class="cork-chevron left gold" alt="past" on-click="change_month" style="cursor:pointer;"></i>\n        </div>\n            <template is="dom-repeat" items="{{month_array}}" as="month">\n                <div id="{{month.order}}">\n                    <span class="title details-text" style="text-transform:none;">[[month.label]]</span>\n                    <div class="cal-row">\n                        <div class="col-header"><div class="day-text">S</div></div>\n                        <div class="col-header"><div class="day-text">M</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">W</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">F</div></div>\n                        <div class="col-header"><div class="day-text">S</div></div>\n                    </div>\n                    <template is="dom-repeat" items="{{month.data}}" as="week">\n                        <div class="cal-row">\n                        <template is="dom-repeat" items="{{week}}" as="day">\n                            <div locweek$= "[[day.loc_week]]" locday$= "[[day.loc_day]]" class$="[[day.is_today]] cal-day [[day.is_exception]] {{day.is_selected}} [[day.month_status]]" on-click="display_new_week">\n                                <div class$="[[day.month_status]] day-text" day$="[[day.date_json]]">[[day.day]]</div>\n                            </div>\n                        </template>\n                        </div>\n                    </template>\n                </div>\n            </template>\n            <div class="month_nav_right">\n                <i class="cork-chevron right gold" alt="future" on-click="change_month" style="cursor:pointer;"></i>\n            </div>\n        </div>\n\n        <div id="view_desktop">\n        <div class="hours-table">\n            <div class="hours-tr">\n            <div class="hours-th"><h4 style="margin-bottom:0px;">[[_format_header(week_array)]]</h4></div>\n            <template is="dom-repeat" items="{{week_array}}">\n                <div class$="[[item.is_today]] hours-th"style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n            </template>\n            </div>\n            <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <div class="hours-tr">\n                <div class="hours-td">\n                    <a class$="[[item.type]]" href$=[[item.url]]>\n                    <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n                    [[item.title]]\n                    </a>\n                </div>\n                <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                    <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </template>\n            </div>\n            </template>\n        </div>\n        </div>\n\n        <div id="view_tablet">\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div class="hours-table">\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{week_array}}">\n                        <div class$="[[item.is_today]] hours-th" style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                        <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n                    </template>\n                </div>\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                        <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                            <span class="keep-together">[[hours.display_string.open]]</span>\n                            <span class="keep-together">[[hours.display_string.close]]</span>\n                        </div>\n                    </template>\n                </div>\n            </div>\n        </template>\n        </div>\n\n        <div id="view_mobile">\n        <hr>\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div hidden="hidden" class="hours-table" id="[[_concat_id(item.id, \'table\')]]">\n            <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                <div class$="[[hours.is_today]] hours-tr">\n                    <div style="width:40%;" class="hours-td"><strong>[[hours.date.day_str]]</strong> [[hours.date.month_str]] [[hours.date.day]]\n                    </div>\n                    <div style="width:60%;" class$="[[hours.hours.status]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </div>\n            </template>\n            </div>\n            <div style="text-align:right;">\n                <i id$="[[_concat_id(item.id, \'toggle\')]]" on-click="toggle_lib_mobile" class="fa fa-plus" action="expand" style="color:#daaa00;cursor:pointer;"></i>\n            </div>\n            <hr>\n        </template>\n        </div>\n\n        '],['\n        <style>\n        :host {\n            --ucd-hours-exception: url();\n            --ucd-hours-selected: url();\n            --ucd-hours-today: url();\n            --ucd-hours-today-selected: url();\n            --ucd-hours-selected-exception: url();\n            --ucd-hours-today-exception: url();\n        }\n        #month_container .is_exception {\n            background-image: var(--ucd-hours-exception);\n        }\n        .selected_day {\n            background-image: var(--ucd-hours-selected);\n        }\n        .cal-day-today {\n            background-image: var(--ucd-hours-today);\n        }\n        .selected_day.cal-day-today  {\n            background-image: var(--ucd-hours-today-selected) !important;\n        }\n\n        .selected_day.is_exception  {\n            background-image: var(--ucd-hours-selected-exception) !important;\n        }\n        .cal-day-today.is_exception {\n            background-image: var(--ucd-hours-today-exception) !important;\n        }\n        </style>\n        <iron-ajax\n            id="init_ajax"\n            url$="[[json_path]]"\n            handle-as="json"\n            on-response="_make_iron_ajax"\n            debounce-duration="300"></iron-ajax>\n\n    <iron-media-query query="min-width: 1000px" query-matches="{{view_desktop}}"></iron-media-query>\n    <iron-media-query query="max-width: 1000px" query-matches="{{view_tablet}}"></iron-media-query>\n    <iron-media-query query="max-width: 700px" query-matches="{{view_mobile}}"></iron-media-query>\n\n    <template id="ajax_repeater" is="dom-repeat" items={{_api_parameters}} as="api">\n    <iron-ajax\n        id="[[api.id]]"\n        url="[[api.url]]"\n        params="[[api.params]]"\n        handle-as="json"\n        on-response="handle_response"\n        debounce-duration="300"></iron-ajax>\n    </template>\n\n        <h2>[[element_title]]</h2>\n        <div id="legend-container">\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="[[icon_dir]]cal-today.svg">\n                    Today\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="[[icon_dir]]cal-selected.svg">\n                    Selected Day\n                </p>\n            </div>\n            <div class="legend-item-container">\n                <p class="legend-item details-text" style="text-transform:none;">\n                    <img  class="legend-icon" src="[[icon_dir]]cal-exception.svg">\n                    Special Hours\n                </p>\n            </div>\n        </div>\n\n        <div id="month_container">\n        <div class="month_nav_left">\n            <i class="cork-chevron left gold" alt="past" on-click="change_month" style="cursor:pointer;"></i>\n        </div>\n            <template is="dom-repeat" items="{{month_array}}" as="month">\n                <div id="{{month.order}}">\n                    <span class="title details-text" style="text-transform:none;">[[month.label]]</span>\n                    <div class="cal-row">\n                        <div class="col-header"><div class="day-text">S</div></div>\n                        <div class="col-header"><div class="day-text">M</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">W</div></div>\n                        <div class="col-header"><div class="day-text">T</div></div>\n                        <div class="col-header"><div class="day-text">F</div></div>\n                        <div class="col-header"><div class="day-text">S</div></div>\n                    </div>\n                    <template is="dom-repeat" items="{{month.data}}" as="week">\n                        <div class="cal-row">\n                        <template is="dom-repeat" items="{{week}}" as="day">\n                            <div locweek$= "[[day.loc_week]]" locday$= "[[day.loc_day]]" class$="[[day.is_today]] cal-day [[day.is_exception]] {{day.is_selected}} [[day.month_status]]" on-click="display_new_week">\n                                <div class$="[[day.month_status]] day-text" day$="[[day.date_json]]">[[day.day]]</div>\n                            </div>\n                        </template>\n                        </div>\n                    </template>\n                </div>\n            </template>\n            <div class="month_nav_right">\n                <i class="cork-chevron right gold" alt="future" on-click="change_month" style="cursor:pointer;"></i>\n            </div>\n        </div>\n\n        <div id="view_desktop">\n        <div class="hours-table">\n            <div class="hours-tr">\n            <div class="hours-th"><h4 style="margin-bottom:0px;">[[_format_header(week_array)]]</h4></div>\n            <template is="dom-repeat" items="{{week_array}}">\n                <div class$="[[item.is_today]] hours-th"style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n            </template>\n            </div>\n            <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <div class="hours-tr">\n                <div class="hours-td">\n                    <a class$="[[item.type]]" href$=[[item.url]]>\n                    <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n                    [[item.title]]\n                    </a>\n                </div>\n                <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                    <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </template>\n            </div>\n            </template>\n        </div>\n        </div>\n\n        <div id="view_tablet">\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div class="hours-table">\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{week_array}}">\n                        <div class$="[[item.is_today]] hours-th" style="line-height: 18px;"><h4>[[item.day_str]]</h4>\n                        <span class="details-text" style="text-transform:none;">[[item.month_str]] [[item.day]]</span></div>\n                    </template>\n                </div>\n                <div class="hours-tr">\n                    <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                        <div class$="[[hours.hours.status]] [[hours.is_today]] hours-td">\n                            <span class="keep-together">[[hours.display_string.open]]</span>\n                            <span class="keep-together">[[hours.display_string.close]]</span>\n                        </div>\n                    </template>\n                </div>\n            </div>\n        </template>\n        </div>\n\n        <div id="view_mobile">\n        <hr>\n        <template is="dom-repeat" items="{{hours_this_week}}" sort=sort_hours>\n            <a class$="[[item.type]]" href$=[[item.url]]>\n            <img  class="status-icon" src$=[[item.icon_url]] alt$=[[item.status]]>\n            [[item.title]]\n            </a>\n            <div hidden="hidden" class="hours-table" id="[[_concat_id(item.id, \'table\')]]">\n            <template is="dom-repeat" items="{{item.hours}}" as="hours">\n                <div class$="[[hours.is_today]] hours-tr">\n                    <div style="width:40%;" class="hours-td"><strong>[[hours.date.day_str]]</strong> [[hours.date.month_str]] [[hours.date.day]]\n                    </div>\n                    <div style="width:60%;" class$="[[hours.hours.status]] hours-td">\n                        <span class="keep-together">[[hours.display_string.open]]</span>\n                        <span class="keep-together">[[hours.display_string.close]]</span>\n                    </div>\n                </div>\n            </template>\n            </div>\n            <div style="text-align:right;">\n                <i id$="[[_concat_id(item.id, \'toggle\')]]" on-click="toggle_lib_mobile" class="fa fa-plus" action="expand" style="color:#daaa00;cursor:pointer;"></i>\n            </div>\n            <hr>\n        </template>\n        </div>\n\n        ']),i=n(6);n(16),n(21),n(19),n(29),n(53);var s=function(e){return e&&e.__esModule?e:{default:e}}(n(51));var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Mixin(i.PolymerElement).with(s.default)),a(t,null,[{key:"template",get:function(){return(0,i.html)(r)}},{key:"is",get:function(){return"library-hours-week"}},{key:"properties",get:function(){return{_calendars:{type:Object,value:{}},_api_parameters:{type:Array,value:[]},json_path:{type:String},element_title:{type:String,value:""},verbose:{type:Boolean},hours_this_week:{type:Array,value:[]},today:{type:Date},selected_day:{type:Object,value:{}},ajax_ids:{type:Array,value:[]},event_ids:{type:Array,value:[]},_lib_event_crosswalk:{type:Object,value:{}},week_array:{type:Array,value:[]},month_array:{type:Array,value:[]},icon_dir:{type:String,value:""}}}}]),a(t,[{key:"ready",value:function(){(function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this.updateStyles({"--ucd-hours-exception":'url("'+this.icon_dir+'cal-exception.svg")',"--ucd-hours-selected":'url("'+this.icon_dir+'cal-selected.svg")',"--ucd-hours-today":'url("'+this.icon_dir+'cal-today.svg")',"--ucd-hours-today-selected":'url("'+this.icon_dir+'cal-today.svg")',"--ucd-hours-selected-exception":'url("'+this.icon_dir+'cal-selected.svg"), url("'+this.icon_dir+'cal-exception.svg")',"--ucd-hours-today-exception":'url("'+this.icon_dir+'cal-today.svg"), url("'+this.icon_dir+'cal-exception.svg")'});try{var e=(new Date).toLocaleString("en-US",{timeZone:"America/Los_Angeles"});e=new Date(e.split(",")[0]),this.today=e,this.set("selected_day.date",e)}catch(t){e=this._ie_today(),this.today=e,this.set("selected_day.date",e)}String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),this.set("selected_day.location",{}),this.week_array=this.create_week_array(e),this.verbose&&console.log("week_array",this.week_array),this.construct_month(e),this.verbose&&console.log("month_array",this.month_array),this.$.init_ajax.generateRequest()}},{key:"_make_iron_ajax",value:function(e){for(var t=e.detail.response,n=0;n<t.length;n++){var a={};this.push("ajax_ids",t[n].ajax_id),a.url=t[n].url,a.params=t[n].params,a.id=t[n].ajax_id,this._lib_event_crosswalk[t[n].ajax_id]=t[n].event_series;for(var r=0;r<t[n].event_series.length;r++)this.push("event_ids",t[n].event_series[r].search_term);this.push("_api_parameters",a)}this.verbose&&console.log("api_parameters",this._api_parameters),this.$.ajax_repeater.render();for(n=0;n<this.ajax_ids.length;n++)this.querySelector("#"+this.ajax_ids[n]).generateRequest()}},{key:"handle_response",value:function(e){for(var t=e.detail.response,n=e.target.getAttribute("id"),a=this._lib_event_crosswalk[n],r=0;r<a.length;r++){var i=a[r].search_term,s=a[r].title,o=a[r].type,d=a[r].url,l=this.parse_calendar(t,i);if(l){var h={title:s,id:i,data:l,ajax_id:n,type:o,url:d};this._calendars[i]=h;var c=this._create_week_hours(h),u=this.event_ids.indexOf(i);-1!=u&&(c.display_order=u,this.push("hours_this_week",c),this.verbose&&console.log(i,c));for(var p=0;p<this.month_array.length;p++)for(var y=0;y<this.month_array[p].data.length;y++)for(var _=0;_<this.month_array[p].data[y].length;_++){if("not_exception"==this.month_array[p].data[y][_].is_exception)this.day_hours(this.month_array[p].data[y][_].date,h.data).exception&&this.set("month_array."+p+".data."+y+"."+_+".is_exception","is_exception")}}}}},{key:"display_new_week",value:function(e){if(this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),e.target.getAttribute("day"))var t=e.target.getAttribute("day").split("-"),n=e.target.parentNode;else t=e.target.children[0].getAttribute("day").split("-"),n=e.target;var a=n.parentNode.parentNode.getAttribute("id");a=parseInt(a.split("_")[1]);var r=parseInt(n.getAttribute("locweek")),i=parseInt(n.getAttribute("locday"));this.set("month_array."+a+".data."+r+"."+i+".is_selected","selected_day"),this.set("selected_day.location.month",a),this.set("selected_day.location.week",r),this.set("selected_day.location.day",i),t=new Date(t[0],t[1]-1,t[2]),this.set("selected_day.date",t),this.week_array=this.create_week_array(t);for(var s=[],o=0;o<this.event_ids.length;o++){var d=this._calendars[this.event_ids[o]],l=this._create_week_hours(d);l.display_order=o;for(var h=0;h<this.hours_this_week.length;h++)l.id==this.hours_this_week[h].id&&(l.icon_url=this.hours_this_week[h].icon_url,s.push(l))}this.hours_this_week=s}},{key:"change_month",value:function(e){var t,n,a=e.target.getAttribute("alt");if(this.set("selected_day.just_created",!1),"future"==a){var r=this.month_array[2].month_n+1,i=this.month_array[2].year_n;12==r&&(r=0,i+=1),t=new Date(i,r,15),n=this._make_month_range(t,1,2,!0)[0],this.month_array[0].month_n==this.selected_day.date.getMonth()?(this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),this.set("selected_day.in_range",!1)):this.selected_day.in_range&&!this.selected_day.just_created&&this.set("selected_day.location.month",this.selected_day.location.month-1),this.shift("month_array"),this.push("month_array",n),this.set("month_array.0.order","month_0"),this.set("month_array.1.order","month_1")}else if("past"==a){r=this.month_array[0].month_n-1,i=this.month_array[0].year_n;-1==r&&(r=11,i-=1),t=new Date(i,r,15),n=this._make_month_range(t,1,0,!0)[0],this.month_array[2].month_n==this.selected_day.date.getMonth()?(this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),this.set("selected_day.in_range",!1)):this.selected_day.in_range&&!this.selected_day.just_created&&this.set("selected_day.location.month",this.selected_day.location.month+1),this.pop("month_array"),this.splice("month_array",0,0,n),this.set("month_array.1.order","month_1"),this.set("month_array.2.order","month_2")}}},{key:"_make_month_range",value:function(e,t,n,a){for(var r=[],i=e.getMonth(),s=this.today.toJSON().split("T")[0],o=this.selected_day.date.toJSON().split("T")[0],d=["January","February","March","April","May","June","July","August","September","October","November","December"],l=n;l<t+n;l++){var h={},c=i+l-n;h.order="month_"+String(l),h.year_n=1900+e.getYear(),c>=12&&(c-=12,h.year_n+=1),h.month_n=c,h.label=d[c]+" "+String(h.year_n);var u=new Date(h.year_n,h.month_n,1),p=new Date(h.year_n,h.month_n,1);p.setDate(u.getDate()-u.getDay()),h.data=[];for(var y=[],_=0,m=0;m<43;m++){var v={},g=new Date(p);if(m%7==0&&0!=m){h.data.push(y),_+=1;y=[]}var b=new Date(g.setDate(p.getDate()+m)),w=1900+b.getYear();v.day=b.getDate(),v.date=b,v.date_json=b.toJSON().split("T")[0];var f=b.getMonth();if(v.date_json==s?v.is_today="cal-day-today":v.is_today="cal-day-not-today",h.year_n>w?v.month_status="previous":h.year_n<w?v.month_status="next":v.month_status=f==c?"current":f>c?"next":"previous",v.is_exception="not_exception",v.date_json==o?(v.is_selected="selected_day",this.set("month_array."+this.selected_day.location.month+".data."+this.selected_day.location.week+"."+this.selected_day.location.day+".is_selected","not_selected_day"),this.set("selected_day.location.month",l),this.set("selected_day.location.week",_),this.set("selected_day.location.day",m-7*_),this.set("selected_day.in_range",!0),this.set("selected_day.just_created",!0)):v.is_selected="not_selected_day",v.loc_month=l,v.loc_week=_,v.loc_day=m-7*_,a)for(var k in this._calendars){if(this.day_hours(b,this._calendars[k].data).exception){v.is_exception="is_exception";break}}y.push(v)}r.push(h)}return r}},{key:"construct_month",value:function(e){for(var t=this._make_month_range(e,3,0,!1),n=0;n<t.length;n++)this.push("month_array",t[n])}},{key:"_create_week_hours",value:function(e){var t=e.data,n={hours:[]};if("library"==e.type.toLowerCase()){var a=!0;n.type="lib-titles"}else{a=!1;n.type="dept-titles"}for(var r=0;r<7;r++){var i=this.week_array[r],s=this.day_hours(i.date,t),o=this.hours_string(s);n.hours.push({hours:s,display_string:o,date:i}),"is-today"==this.week_array[r].is_today?(n.hours[r].is_today="is-today",a?this.open_now(s)?n.icon_url=this.icon_dir+"open-lib.svg":n.icon_url=this.icon_dir+"closed-lib.svg":this.open_now(s)?n.icon_url=this.icon_dir+"open-dept.svg":n.icon_url=this.icon_dir+"closed-dept.svg"):n.hours[r].is_today="not-today"}return n.title=e.title,n.id=e.id,n.url=e.url,n}},{key:"toggle_lib_mobile",value:function(e){var t="#"+e.target.getAttribute("id").split("__")[0]+"__table";"expand"==e.target.getAttribute("action")?(e.target.setAttribute("action","less"),e.target.setAttribute("class","fa fa-minus"),this.querySelector(t).removeAttribute("hidden")):(e.target.setAttribute("action","expand"),e.target.setAttribute("class","fa fa-plus"),this.querySelector(t).setAttribute("hidden","hidden"))}},{key:"_concat_id",value:function(e,t){return e+"__"+t}},{key:"open_now",value:function(e){if("closed"==e.status)return!1;try{var t=(n=(new Date).toLocaleString("en-GB",{timeZone:"America/Los_Angeles"})).split(",")[1].split(":");t=parseInt(t[0]+t[1])}catch(e){var n=this._ie_today(),a=String(n.getHours());1==a.length&&(a="0"+a);var r=String(n.getMinutes());1==r.length&&(r="0"+r);t=parseInt(a+r)}var i=e.start_time.split(":");i=parseInt(i[0]+i[1]);var s=e.end_time.split(":");return s=parseInt(s[0]+s[1]),t>=i&&t<s||t>=i&&i>=s}},{key:"_format_header",value:function(e){var t="";return 7==e.length&&(t+=e[0].month_str.toUpperCase()+" "+e[0].day+" - ",e[0].month_str!=e[6].month_str&&(t+=e[6].month_str.toUpperCase()+" "),t+=e[6].day+", "+e[6].year),t}},{key:"create_week_array",value:function(e){for(var t=[],n=e.getDay(),a=["SUN","MON","TUE","WED","THU","FRI","SAT","SUN"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=this.today.toDateString(),s=0;s<7;s++){var o={},d=new Date(1900+e.getYear(),e.getMonth(),e.getDate());d.setDate(e.getDate()-n+s),o.i=s-1,o.date=d,d.toDateString()==i?o.is_today="is-today":o.is_today="not-today",o.day_str=a[d.getDay()],o.month_str=r[d.getMonth()],o.day=d.getDate(),o.year=1900+d.getYear(),t.push(o)}return t}},{key:"sort_hours",value:function(e,t){return e.display_order-t.display_order}},{key:"hours_string",value:function(e){if("closed"==e.status)return{open:"CLOSED",close:""};for(var t={},n=[e.start_time,e.end_time],a=0;a<2;a++){var r="",i=n[a].split(":"),s=parseInt(i[0]);if(s>12){s-=12;var o="pm"}else if(0==s){s=12;o="am"}else if(12==s){s=12;o="pm"}else o="am";r+=s.toString()+":"+i[1],r+=" "+o,0==a?t.open=r+" -":t.close=r}return t}},{key:"parse_rrule",value:function(e){for(var t={},n=e.split(":")[1].split(";"),a=0;a<n.length;a++){var r=n[a].split("=");if("FREQ"==r[0])t.freq=r[1],"DAILY"==r[1]&&(t.days=["MO","TU","WE","TH","FR","SA","SU"]);else if("BYDAY"==r[0])t.days=r[1].split(",");else if("UNTIL"==r[0]){var i=r[1].substr(0,4),s=r[1].substr(4,2),o=r[1].substr(6,2);t.end_date=new Date(i+"-"+s+"-"+o)}}if(!("end_date"in t)){var d=new Date;d.setDate(d.getDate()+730),t.end_date=d}return t}},{key:"to_goog_day",value:function(e){return{1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA",0:"SU"}[e]}},{key:"split_datetime",value:function(e){var t={},n=e.split("T");n[0].split("-");return t.date=new Date(n[0]),t.time=n[1].substr(0,5),t}},{key:"day_hours",value:function(e,t){var n=e.toISOString().split("T")[0];if(n in t.exceptions)return t.exceptions[n];for(var a=0;a<t.id.length;a++){var r=t.id[a];if(e>=t.rule[r].start_date&&e<=t.rule[r].end_date){var i=!1;try{i=t.rule[r].days.includes(this.to_goog_day(e.getDay()))}catch(n){for(var s=this.to_goog_day(e.getDay()),o=0;o<t.rule[r].days.length;o++)if(t.rule[r].days[o]==s){i=!0;break}}if(i){var d={};return d.start_time=t.rule[r].start_time,d.end_time=t.rule[r].end_time,d.exception=!1,d.status="open",d}}}return{status:"closed",exception:!1}}},{key:"_ie_today",value:function(){for(var e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(t+-252e5),a=new Date(t+-288e5),r=[new Date(2015,2,8),new Date(2015,10,2),new Date(2016,2,13),new Date(2016,10,7),new Date(2017,2,12),new Date(2017,10,6),new Date(2018,2,11),new Date(2018,10,5),new Date(2019,2,10),new Date(2019,10,4),new Date(2020,2,8),new Date(2020,10,2),new Date(2021,2,14),new Date(2021,10,8),new Date(2022,2,13),new Date(2022,10,7),new Date(2023,2,12),new Date(2023,10,6),new Date(2024,2,10),new Date(2024,10,4)],i=0;i<r.length;i++)if(a<r[i])return n;return console.log("Unable to determine daylight savings time. See _ie_today function"),e}},{key:"parse_calendar",value:function(e,t){for(var n=e.items,a={id:[],name:{},rule:{},overlap:!1,exceptions:{}},r=0;r<n.length;r++)if("recurrence"in n[r]){if("description"in n[r])var i=n[r].description.toLowerCase();else i="";if(i.includes(t.toLowerCase())){var s=n[r].id,o=n[r].organizer.displayName,d=this.parse_rrule(n[r].recurrence[0]);if("dateTime"in n[r].start){var l=this.split_datetime(n[r].start.dateTime);d.start_date=l.date,d.start_time=l.time,d.end_time=this.split_datetime(n[r].end.dateTime).time}else d.start_date=new Date(n[r].start.date),d.start_time="00:00",d.end_time="00:00";a.id.push(s),a.name[s]=o,a.rule[s]=d}}if(0==a.id.length)return console.log(t,"not found in calendar. Unable to display hours."),!1;for(r=0;r<n.length;r++){var h=!1;try{h=a.id.includes(n[r].recurringEventId)}catch(e){for(var c=0;c<a.id.length;c++)if(n[r].recurringEventId==a.id[c]){h=!0;break}}if(h)if("cancelled"==n[r].status)p=(p=n[r].originalStartTime.dateTime).split("T")[0],a.exceptions[p]={exception:!0,status:"closed"};else if("confirmed"==n[r].status){var u={},p=n[r].start.dateTime.split("T")[0];u.end_time=this.split_datetime(n[r].end.dateTime).time,u.start_time=this.split_datetime(n[r].start.dateTime).time,u.status="open",u.exception=!0;var y=a.rule[n[r].recurringEventId].start_time,_=a.rule[n[r].recurringEventId].end_time;y==u.start_time&&_==u.end_time||(a.exceptions[p]=u)}}return a}}]),t}();customElements.define(o.is,o)},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0};t.default=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),a(n,[{key:"_attachDom",value:function(e){if(window.ShadyDOM&&window.ShadyDOM.inUse)return r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_attachDom",this).call(this,e);for(var t=e.querySelectorAll("style"),a=0;a<t.length;a++)t[a].parentNode.removeChild(t[a]),this._stylesInserted||(t[a].setAttribute("id",this.nodeName.toLowerCase()+"-styles"),document.head.appendChild(t[a]));return this.appendChild(e),e}},{key:"querySelector",value:function(e){return this.shadowRoot?this.shadowRoot.querySelector(e):r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"querySelector",this).call(this,e)}},{key:"querySelectorAll",value:function(e){return this.shadowRoot?this.shadowRoot.querySelectorAll(e):r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"querySelectorAll",this).call(this,e)}}]),n}()}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\n<style>\nlibrary-hours-week {\n  display: block;\n  background-color: transparent;\n  padding: 0px;\n  min-width: 275px;\n}\n\nlibrary-hours-week .hours-table{\n    border-top: 3px solid #d8d8d8;\n    border-bottom: 3px solid #d8d8d8;\n    border-collapse: collapse;\n    margin-bottom: 0px;\n    width: 100%;\n    display: table;\n}\n\nlibrary-hours-week .hours-tr {\n    background-color: transparent;\n    border: none;\n    display:table-row;\n}\n\nlibrary-hours-week .hours-td {\n    border-bottom: none;\n    padding-left: 4px;\n    padding-right: 4px;\n    padding-bottom: 8px;\n    word-wrap: normal;\n    display: table-cell;\n    vertical-align: middle;\n}\n\nlibrary-hours-week .hours-th {\n    padding-top: 14px;\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n}\n\nlibrary-hours-week .hours-th.is-today{\n    border-top: 3px solid #DAAA00;\n    border-right: 3px solid #DAAA00;\n    border-left: 3px solid #DAAA00;\n}\n\nlibrary-hours-week .hours-td.is-today{\n    border-right: 3px solid #DAAA00;\n    border-left: 3px solid #DAAA00;\n}\n\n\nlibrary-hours-week a {\n    color: #002655;\n}\nlibrary-hours-week img {\n    width: 25px;\n}\nlibrary-hours-week .closed {\n    color:#ba0c2f;\n    text-align: center;\n    font-weight: 600;\n    width: 11%;\n}\nlibrary-hours-week .open {\n    text-align: center;\n    width: 11%;\n}\n\nlibrary-hours-week th.is-today{\n    border-top: 3px solid #DAAA00;\n}\n\nlibrary-hours-week .keep-together{\n    white-space: nowrap;\n}\nlibrary-hours-week .status-icon{\n    margin-right: 8px;\n    margin-left: 8px;\n    margin-bottom: inherit !important;\n}\nlibrary-hours-week .lib-titles{\n      display:flex;\n      align-items:center;\n      font-weight: 600;\n      text-decoration: none;\n\n  }\nlibrary-hours-week .dept-titles{\n      display:flex;\n      align-items:center;\n  }\nlibrary-hours-week #month_container {\n\n      width: 100%;\n      height: 260px;\n      text-align: center;\n\n  }\n  library-hours-week #month_0,\n  library-hours-week #month_1,\n  library-hours-week #month_2 {\n      display: inline-block;\n      width: 250px;\n      height: 250px;\n      background-color: #fff;\n  }\n  library-hours-week .month_nav_left,\n  library-hours-week .month_nav_right{\n      display: inline-block;\n      height: 100%;\n      vertical-align: top;\n      padding-top: 125px;\n\n  }\n  library-hours-week .month_nav_left {\n      padding-left: 0px;\n      padding-right: 10px;\n  }\n  library-hours-week .month_nav_right {\n      padding-left: 10px;\n      padding-right: 0px;\n  }\n  library-hours-week #month_container .title {\n      display: block;\n      margin-top: 10px;\n      margin-bottom: none;\n  }\n  library-hours-week #month_container .col-header{\n\n      font-weight: 600;\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n      font-size: 12px;\n  }\n  library-hours-week .cal-row{\n      width: 100%;\n      text-align: center;\n      margin-top: 2px;\n      margin-bottom: 2px;\n  }\n  library-hours-week .cal-day {\n      display: inline-block;\n      vertical-align: middle;\n      width: 30px;\n      height: 26px;\n      font-size: 12px;\n      cursor: pointer;\n      align-items: center;\n      font-weight: 400;\n      background-repeat: no-repeat;\n      background-size: 100% 100%;\n  }\n  library-hours-week .day-text {\n      position: relative;\n      top: 50%;\n      transform: translateY(-50%);\n  }\n  library-hours-week #month_container .previous,\n  library-hours-week #month_container .next {\n      color: #808080;\n  }\n\n  library-hours-week .legend-item {\n      display:flex;\n      align-items:center;\n      margin-top: 6px;\n      margin-bottom: 6px;\n  }\n\n  library-hours-week #legend-container {\n      background-color: #fff;\n      width: 335px;\n      min-height: 35px;\n      margin: auto;\n      margin-bottom: 10px;\n      margin-top: 10px;\n  }\n  library-hours-week .legend-icon {\n      margin-right: 8px;\n      width: 18px;\n      margin-bottom: inherit !important;\n  }\n  library-hours-week .legend-item-container{\n      display: inline-block;\n      margin-left: 5px;\n      margin-right: 5px;\n\n  }\n\n@media(min-width: 1000px){\n  library-hours-week #view_tablet {\n      display:none;\n  }\n  library-hours-week #view_desktop {\n      display:block;\n  }\n  library-hours-week #view_mobile {\n      display:none;\n  }\n\n\n  library-hours-week .hours-td {\n      border-top: 1px solid #d8d8d8;\n      border-left: none;\n      border-right: none;\n      padding-top: 8px;\n  }\n\n  library-hours-week .hours-th {\n      padding-bottom: 14px;\n  }\n\n  library-hours-week .hours-td:nth-child(odd), .hours-th:nth-child(odd) {\n    background-color: #fff;\n}\nlibrary-hours-week .hours-td:nth-child(even), .hours-th:nth-child(even) {\n      background-color: #f3f3f3;\n  }\n\n  library-hours-week .hours-tr:nth-last-child(2) .hours-td.is-today {\n      border-bottom: 3px solid #DAAA00;\n  }\n  library-hours-week .hours-td {\n      padding-bottom: 14px;\n  }\n\n  library-hours-week #month_0 .next.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n  }\n  library-hours-week #month_0 .next.day-text {\n      display: none;\n  }\n\n  library-hours-week #month_0 .previous.day-text {\n      display: block;\n  }\n  library-hours-week #month_0 .previous.cal-text {\n      pointer-events: all;\n  }\n\n  library-hours-week #month_1 .next.day-text,\n  library-hours-week #month_1 .previous.day-text {\n      display: none;\n\n  }\n  library-hours-week #month_1 .next.cal-day,\n  library-hours-week #month_1 .previous.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n\n  }\n\n  library-hours-week #month_2 .previous.day-text {\n      display: none;\n      background-image: none !important;\n\n  }\n  library-hours-week #month_2 .previous.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n\n  }\n\n\n}\n@media(max-width: 1000px){\n  library-hours-week #view_tablet {\n      display:block;\n  }\n  library-hours-week #view_desktop {\n      display:none;\n  }\n  library-hours-week #view_mobile {\n      display:none;\n  }\n\n  library-hours-week #month_2 {\n      display: none;\n  }\n\n  library-hours-week #month_0 .next.day-text {\n      display: none;\n  }\n\n  library-hours-week #month_0 .next.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n  }\n  library-hours-week #month_1 .previous.day-text {\n      display: none;\n  }\n  library-hours-week #month_1 .previous.cal-day {\n      pointer-events: none;\n      background-image: none !important;\n  }\n\n\n  library-hours-week .hours-td,\n  library-hours-week .hours-th {\n      background-color: #fff;\n      border-left: 1px solid #d8d8d8;\n      border-right: 1px solid #d8d8d8;\n      border-top: none;\n      border-bottom: none;\n\n  }\n  library-hours-week .hours-th {\n      padding-bottom: none;\n  }\n  library-hours-week .hours-td {\n      padding-top: 4px;\n  }\n  library-hours-week a {\n      padding-top: 12px;\n      padding-bottom: 12px;\n  }\n  library-hours-week .hours-table {\n      border-left: none;\n      border-right: none;\n      border-top: 1px solid #d8d8d8;\n      border-bottom: 2px solid #d8d8d8;\n  }\n\n  library-hours-week .hours-table[hidden] {\n      display:none;\n  }\n  library-hours-week .hours-tr:nth-last-child(1) .hours-td.is-today {\n      border-bottom: 3px solid #DAAA00;\n  }\n}\n\n@media(max-width: 700px){\n  library-hours-week #view_tablet {\n      display:none;\n  }\n  library-hours-week #view_desktop {\n      display:none;\n  }\n  library-hours-week #view_mobile {\n      display:block;\n  }\n  library-hours-week #month_1 {\n      display: none;\n  }\n  library-hours-week #month_2 {\n      display: none;\n  }\n\n  library-hours-week #month_0 .next.day-text {\n      display: block;\n  }\n\n  library-hours-week .month_nav_left {\n      padding-left: 0px;\n      padding-right: 0px;\n      padding-top: 110px;\n  }\n  library-hours-week .month_nav_right {\n      padding-left: 0px;\n      padding-right: 0px;\n      padding-top: 110px;\n  }\n  library-hours-week .cal-day {\n      width: 25px;\n      height: 21px;\n  }\n  library-hours-week #month_container .col-header {\n      width: 25px;\n      height: 21px;\n  }\n  library-hours-week #month_0{\n      width: 225px;\n      height: 230px;\n  }\n\n  library-hours-week .hours-td {\n      background-color: #fff;\n      border-left: none;\n      border-right: none;\n  }\n  library-hours-week .hours-tr.is-today {\n      border-bottom: 3px solid #DAAA00;\n      border-top: 3px solid #DAAA00;\n      border-left: 3px solid #DAAA00;\n      border-right: 3px solid #DAAA00;\n  }\n  library-hours-week .hours-table {\n      border-top: none;\n      border-bottom: none;\n  }\n  library-hours-week hr {\n      display: block;\n      height: 1px;\n      border: 0;\n      border-top: 2px solid #d8d8d8;\n      margin: 0;\n      padding: 0;\n  }\n\n  library-hours-week #legend-container {\n      width: 225px;\n\n  }\n\n  library-hours-week .legend-item-container{\n      margin-left: 8px;\n      margin-right: 8px;\n\n  }\n\n}\n</style>"},53:function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(n(52));var r=document.createElement("div");r.style.display="none",r.innerHTML=a.default,document.head.appendChild(r)}}]);